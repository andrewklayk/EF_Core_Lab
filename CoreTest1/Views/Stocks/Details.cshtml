@model CoreTest1.Models.Stock

@{
    ViewData["Title"] = "Деталі";
}

<h2>Details</h2>

<div>
    <h4>Stock</h4>
    <hr />
    <div id="map"></div>
    <script>
        // Initialize and add the map
        function initMap() {
            var model = @Html.Raw(Json.Serialize(Model));
            // The address
            var thisStock = { lat: model.lat, lng: model.longt };
            // The map, centered at the address
            var map = new google.maps.Map(
                document.getElementById('map'), { zoom: 4, center: thisStock });
            // The marker, positioned at the address
            var marker = new google.maps.Marker({ position: thisStock, map: map });
        }
    </script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBm3olN3egsXjTKndzJzCxUqET0e6dIVYY&callback=initMap">
    </script>

    <dl class="dl-horizontal">
        <dt>
            Адреса
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Address)
        </dd>
        <dt class="col-sm-2">
            Працівники
        </dt>
        <dd class="col-sm-10">
            <table class="table">
                <tr>
                    <th>Ім'я</th>
                    <th>Прізвище</th>
                </tr>

                @foreach (var item in Model.Positions)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Employee.FirstName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Employee.Surname)
                        </td>
                    </tr>
                }
            </table>
        </dd>
    </dl>
</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model.ID">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
<style>
    /* Set the size of the div element that contains the map */
    #map {
        height: 400px; /* The height is 400 pixels */
        width: 100%; /* The width is the width of the web page */
    }
</style>

